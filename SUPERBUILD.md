# Super Build Request

@copilot Please help build this application.

# Build Web Application from Scratch

**Project**: ecommerce-store-1763303361914

## What Ra Understood from User Requirements

ÙÙ‡Ù…Øª! Ù…Ù†ØµØ© ØªØ¬Ø§Ø±Ø© Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ© Ø¬Ù…Ø§Ø¹ÙŠØ© Ù…Ø«Ù„ Pinduoduo ğŸ¯

**Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©:**
âœ… Ø§Ù„ØªØ³ÙˆÙ‚ Ø§Ù„Ø¬Ù…Ø§Ø¹ÙŠ (Group Buying) - Ø®ØµÙˆÙ…Ø§Øª Ø£ÙƒØ¨Ø± Ù„Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª
âœ… Ø¯Ø¹ÙˆØ© Ø§Ù„Ø£ØµØ¯Ù‚Ø§Ø¡ Ù„Ù„Ø§Ù†Ø¶Ù…Ø§Ù… Ù„Ù„ØµÙÙ‚Ø§Øª
âœ… Ø¹Ø±ÙˆØ¶ Ù…Ø­Ø¯ÙˆØ¯Ø© Ø§Ù„ÙˆÙ‚Øª (Flash Sales)
âœ… Ù†Ø¸Ø§Ù… Ù†Ù‚Ø§Ø· ÙˆÙ…ÙƒØ§ÙØ¢Øª Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
âœ… Ø£Ù„Ø¹Ø§Ø¨ ÙˆØªØ­Ø¯ÙŠØ§Øª Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ ÙƒÙˆØ¨ÙˆÙ†Ø§Øª
âœ… Ù†Ø¸Ø§Ù… Ø¯ÙØ¹ Ù…ØªØ¹Ø¯Ø¯ ÙˆØ¢Ù…Ù†
âœ… Ù„ÙˆØ­Ø© Ø¥Ø¯Ø§Ø±Ø© Ø´Ø§Ù…Ù„Ø© Ù„Ù„Ø¨Ø§Ø¦Ø¹ÙŠÙ† ÙˆØ§Ù„Ø¥Ø¯Ø§Ø±Ø©

**Ø§Ù„ØµÙØ­Ø§Øª Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø©:**
ğŸ“„ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù…Ø¹ Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ù†Ø´Ø·Ø©
ğŸ“„ ØµÙØ­Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙˆØ§Ù„ÙØ¦Ø§Øª
ğŸ“„ ØµÙØ­Ø© Ø§Ù„ØªØ³ÙˆÙ‚ Ø§Ù„Ø¬Ù…Ø§Ø¹ÙŠ
ğŸ“„ ØµÙØ­Ø© Ø¯Ø¹ÙˆØ© Ø§Ù„Ø£ØµØ¯Ù‚Ø§Ø¡
ğŸ“„ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ ÙˆØ§Ù„Ù†Ù‚Ø§Ø·
ğŸ“„ Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ø¨Ø§Ø¦Ø¹

**Ø§Ù„ØªØµÙ…ÙŠÙ…:**
ğŸ¨ ØªØµÙ…ÙŠÙ… Ù†Ø´Ø· ÙˆÙ…Ù„ÙˆÙ† Ù…Ø´Ø§Ø¨Ù‡ Ù„Ù€ Pinduoduo - Ø£Ù„ÙˆØ§Ù† Ø²Ø§Ù‡ÙŠØ© (Ø£Ø­Ù…Ø±ØŒ Ø£ØµÙØ±ØŒ Ø£Ø®Ø¶Ø±) Ù…Ø¹ Ø¹Ù†Ø§ØµØ± ØªÙØ§Ø¹Ù„ÙŠØ© ÙˆØ£Ø²Ø±Ø§Ø± ÙˆØ§Ø¶Ø­Ø© Ù„Ù„Ø¹Ù…Ù„ Ø§Ù„Ø¬Ù…Ø§Ø¹ÙŠ

Ù‡Ù„ Ù‡Ø°Ø§ ÙŠÙ†Ø§Ø³Ø¨ Ù…Ø§ ØªØ±ÙŠØ¯ØŸ ÙŠÙ…ÙƒÙ†Ùƒ ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¨Ø¯Ø¡ Ø£Ùˆ Ø·Ù„Ø¨ ØªØ¹Ø¯ÙŠÙ„Ø§Øª.

## Technical Requirements

Create a ecommerce application with the following requirements:

Features:
- notifications
- admin-panel
- products
- categories

Database:
- Use Prisma ORM with PostgreSQL
- Create appropriate schema for the data models

Payments:
- Integrate Stripe for payment processing
- Implement secure checkout flow

Technical Stack:
- Next.js 14 with App Router
- TypeScript for type safety
- Tailwind CSS for styling
- Follow best practices and include error handling


## Instructions for Copilot

Build a **complete, production-ready web application from scratch** based on the above requirements. **Take your time** - this is a comprehensive build that may take 30-60 minutes to complete properly.

Start from scratch and create:

1. **Full Next.js 14 application structure** with App Router
   - Proper file organization (app/, components/, lib/, etc.)
   - Page routes for all required features
   - Layout components with navigation

2. **package.json** with all required dependencies
   - Next.js 14, React 18, TypeScript
   - All necessary libraries for the features
   - Proper scripts: dev, build, start, lint
   - Include `next-intl` for internationalization

3. **TypeScript configuration** (tsconfig.json)
   - Strict mode enabled
   - Proper path aliases

4. **Tailwind CSS setup** with proper configuration
   - tailwind.config.ts
   - Global styles
   - Responsive design

5. **Component implementations** following best practices
   - Reusable components
   - Proper TypeScript types
   - Accessibility considerations

6. **API routes** as needed for the application
   - REST API endpoints
   - Proper error handling
   - Input validation
   - **If authentication needed**: Email/password signup/signin endpoints ONLY (NO social auth)

7. **Authentication (if needed)**
   - Built-in email/password authentication ONLY
   - Use bcryptjs for password hashing
   - JWT or session-based auth
   - NO social auth providers (NO Google, Apple, GitHub OAuth)
   - Signup and signin pages with proper forms
   - Protected routes and middleware

8. **Database schema** (Prisma schema)
   - All required models with proper field types
   - Proper relationships (one-to-many, many-to-many, etc.)
   - Indexes for performance
   - Default values where appropriate
   - **IMPORTANT**: Use PostgreSQL as datasource provider

9. **Internationalization Configuration** (REQUIRED)
   - Create `i18n.ts` at project root with proper next-intl configuration
   - Create locale files in `public/locales/ar/common.json` and `public/locales/en/common.json`
   - Support Arabic (ar) and English (en) - **Arabic as default**
   - Implement locale detection from cookie, Accept-Language header, with fallback to Arabic
   - **CRITICAL**: Configure next.config.js properly:
     ```javascript
     const withNextIntl = require('next-intl/plugin')('./i18n.ts')
     module.exports = withNextIntl(nextConfig)
     ```
   - Include locale switcher component in navigation
   - **VERIFY**: Test that locale switching works without errors

10. **Environment variable template** (.env.example)
    - All required variables documented with clear descriptions
    - **MUST include**:
      - `DATABASE_URL` - PostgreSQL connection string
      - `DIRECT_URL` - For migrations (if using connection pooling)
      - `NEXTAUTH_SECRET` or `JWT_SECRET` - Authentication secret
      - `NEXTAUTH_URL` or `APP_URL` - Application base URL
      - Any other API keys required
    - Document which variables are REQUIRED vs OPTIONAL
    - **CRITICAL**: Application MUST start gracefully without DATABASE_URL set
      - Show helpful error message if database features accessed without DATABASE_URL
      - Database will be added later by user clicking "+ Database" in Railway

11. **Dockerfile** for Railway deployment
    - Multi-stage build (deps, builder, runner stages)
    - Optimized for production
    - Proper port configuration
    - **CRITICAL**: Update next.config.js to include: `output: 'standalone'`
    
    **CRITICAL FILE COPYING CHECKLIST** - The runner stage MUST include these COPY commands:
    ```dockerfile
    # Copy necessary files from builder
    COPY --from=builder /app/public ./public
    COPY --from=builder /app/prisma ./prisma
    COPY --from=builder /app/package*.json ./
    COPY --from=builder /app/i18n.ts ./i18n.ts
    
    # Copy the standalone Next.js build
    COPY --from=builder /app/.next/standalone ./
    COPY --from=builder /app/.next/static ./.next/static
    
    # Copy Prisma files
    COPY --from=builder /app/node_modules/.prisma ./node_modules/.prisma
    COPY --from=builder /app/node_modules/@prisma ./node_modules/@prisma
    
    # Copy startup script
    COPY --from=builder /app/scripts ./scripts
    ```
    
    **VERIFY** all these files are copied:
    - [ ] `i18n.ts` at root level
    - [ ] `public/` directory with ALL subdirectories (especially `public/locales/`)
    - [ ] `prisma/` directory with schema.prisma
    - [ ] `.next/standalone/` and `.next/static/`
    - [ ] `node_modules/.prisma/` and `node_modules/@prisma/`
    - [ ] `scripts/` directory with startup scripts

12. **Startup Scripts** (scripts/start.sh)
    - Create startup script that handles:
      - Conditional database migrations (only if DATABASE_URL is set)
      - Prisma client generation
      - Application startup
    - Make script executable
    - Handle errors gracefully

13. **Complete README.md** with:
    - Project overview and features
    - Prerequisites and dependencies
    - Installation and setup instructions
    - Development and build commands
    - Deployment guide (Railway-specific)
    - Environment variables documentation (each variable explained)
    - Project structure explanation
    - **Troubleshooting section** including:
      - Common deployment errors and solutions
      - "Couldn't find next-intl config file" - how to fix
      - "DATABASE_URL not set" - expected behavior
      - Docker-specific issues
      - How to verify deployment success
    - **Deployment Checklist** for users

---

## PRE-MERGE VERIFICATION (MUST COMPLETE BEFORE AUTO-MERGE)

**DO NOT AUTO-MERGE** until ALL these verification steps pass:

### Local Build Verification:
- [ ] Run `npm install` - completes without errors
- [ ] Run `npm run build` - completes successfully with no errors
- [ ] Run `npm start` - production build starts successfully
- [ ] Test without DATABASE_URL - application starts and shows proper error handling
- [ ] Visit http://localhost:3000 - homepage loads correctly
- [ ] Test ALL routes - navigate to every page, verify no 404s
- [ ] Click ALL buttons and links - verify every interactive element works
- [ ] Test ALL forms - submit with valid and invalid data, verify validation works
- [ ] Test locale switching - Arabic â†” English works without errors
- [ ] Check browser console - no errors on any page
- [ ] Test responsive design - works on mobile, tablet, desktop

### Docker Build Verification:
- [ ] Run `docker build -t test-app .` - builds successfully without errors
- [ ] Verify i18n.ts: `docker run test-app ls -la /app/i18n.ts` - file exists
- [ ] Verify locales: `docker run test-app ls -la /app/public/locales/` - ar/ and en/ exist
- [ ] Verify prisma: `docker run test-app ls -la /app/prisma/schema.prisma` - file exists
- [ ] Verify standalone: `docker run test-app ls -la /app/.next/standalone/` - directory exists
- [ ] Run container: `docker run -d -p 3000:3000 --name test-app test-app`
- [ ] Wait 10 seconds for startup
- [ ] Test accessibility: `curl -f http://localhost:3000` - returns 200 OK
- [ ] Check logs: `docker logs test-app` - no critical errors
- [ ] Test in browser: Open http://localhost:3000 - application works
- [ ] Test locale switching in Docker - works correctly
- [ ] Clean up: `docker stop test-app && docker rm test-app`

### File Presence Verification:
Run these commands to verify all files are in the Docker image:
```bash
docker run test-app ls -la /app/i18n.ts
docker run test-app ls -la /app/public/locales/ar/common.json
docker run test-app ls -la /app/public/locales/en/common.json
docker run test-app ls -la /app/prisma/schema.prisma
docker run test-app ls -la /app/.next/standalone/
docker run test-app ls -la /app/scripts/start.sh

All commands must succeed without "No such file or directory" errors.

Functionality Verification:
 All pages render correctly
 All navigation links work
 All buttons trigger correct actions
 All forms submit and validate properly
 Authentication flow works (if applicable)
 Error handling works (try invalid inputs)
 Loading states display correctly
 Locale switching works in both Arabic and English
 Responsive design works on different screen sizes
 No console errors or warnings
CRITICAL REQUIREMENTS - MUST BE COMPLETE AND TESTED
Build everything from scratch - Use template if needed, start fresh
ALL buttons MUST work - test every button, link, and interactive element
ALL navigation MUST work - test routing between all pages, ensure no broken links
ALL forms MUST work - test form submissions, validations, error handling
Authentication MUST use ONLY email/password - NO social auth (NO Google, Apple, GitHub OAuth)
Dockerfile MUST copy i18n.ts - This is CRITICAL to prevent deployment failures
Dockerfile MUST copy public/locales/ - Required for internationalization
Application MUST start without DATABASE_URL - Database added later, handle gracefully
next.config.js MUST include output: 'standalone' - Required for Docker deployment
next.config.js MUST use withNextIntl - Required for next-intl to work
i18n.ts MUST exist at project root - Required by next-intl
Locale files MUST exist - common.json and common.json
Ensure package.json includes proper "start" script - For production deployment
Implement all features mentioned completely - No half-implemented features
Use modern best practices and clean code
Theme and design: bright, optimistic, with animations
Arabic and English support - Arabic as default
Modern, elegant designs with smooth animations
Test that the application builds, runs, and ALL functionality works
Verify all interactive elements are functional before considering complete
This should be a COMPLETE, PRODUCTION-READY application, not just an initial build
COMMON MISTAKES TO AVOID
âŒ DON'T merge without testing Docker build
âŒ DON'T forget to copy i18n.ts in Dockerfile
âŒ DON'T forget to copy public/locales/ in Dockerfile
âŒ DON'T assume standalone build includes all files automatically
âŒ DON'T require DATABASE_URL at startup
âŒ DON'T merge without verifying all buttons/links work
âŒ DON'T skip locale switching tests
âŒ DON'T leave any half-implemented features

âœ… DO test both local and Docker builds completely
âœ… DO verify file presence in Docker image using ls commands
âœ… DO test every interactive element manually
âœ… DO include comprehensive error handling
âœ… DO test locale switching thoroughly
âœ… DO ensure application starts without DATABASE_URL
âœ… DO verify no errors in browser console
âœ… DO test responsive design on multiple screen sizes

AUTO-MERGE CRITERIA
Only auto-merge this PR to main branch if ALL of the following are true:

âœ… All local build verification steps passed
âœ… All Docker build verification steps passed
âœ… All file presence verification steps passed
âœ… All functionality verification steps passed
âœ… No errors in build logs
âœ… No errors in Docker logs
âœ… No errors in browser console
âœ… Application accessible at http://localhost:3000 in Docker
âœ… i18n.ts file confirmed present in Docker image
âœ… Locale files confirmed present in Docker image
âœ… All interactive elements tested and working
âœ… Locale switching tested and working
If ANY verification step fails, DO NOT MERGE. Fix the issues and re-verify.

After completing the full implementation AND verifying everything works, auto-merge this PR to the main branch so Railway can deploy.

---
Generated on: 2025-11-16T14:29:23.981Z
